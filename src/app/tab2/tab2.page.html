<ion-content class="home-bg" [fullscreen]="true">
  <!-- Banner superior simplificado -->
  <div class="app-banner">
    <div class="search-section">
      <div class="search-row">
        <ion-searchbar 
          class="search-bar" 
          placeholder="Busca regalos, chocolates, flores..." 
          show-clear-button="focus"
          mode="ios"
          animated="true"
          (ionInput)="onSearchChange($event)"
          [(ngModel)]="searchText">
        </ion-searchbar>
        <button class="profile-btn" (click)="openProfileMenu($event)">
          <ion-icon name="person-circle" class="profile-icon"></ion-icon>
        </button>
      </div>
    </div>
  </div>

  <!-- Resultados de b√∫squeda -->
  <div class="search-results-container" *ngIf="showResults && searchResults.length > 0">
    <div class="search-results-list">
      <div class="search-result-item" 
           *ngFor="let result of searchResults"
           (click)="onSelectResult(result)"
           [ngClass]="result.type === 'category' ? 'result-category' : 'result-product'">
        <div class="result-icon-wrapper" [ngClass]="{'category-icon': result.type === 'category', 'product-icon': result.type === 'product'}">
          <ion-icon 
            *ngIf="result.type === 'category'" 
            [name]="result.icon"
            class="result-icon">
          </ion-icon>
          <span *ngIf="result.type === 'product'" class="product-icon-text">üéÅ</span>
        </div>
        <div class="result-info">
          <h4 class="result-name">{{ result.name }}</h4>
          <span class="result-description">
            {{ result.type === 'category' ? 'Categor√≠a' : 'Producto' }} ‚Ä¢ {{ result.description }}
          </span>
        </div>
        <ion-icon name="arrow-forward" class="result-arrow"></ion-icon>
      </div>
    </div>
  </div>

  <!-- Zona de contenido dividida mitad y mitad -->
  <div class="split-content" *ngIf="!showResults || searchResults.length === 0">
    <!-- Header de tienda: logo + nombre -->
    <div class="store-header-card">
      <div class="store-logo">
        <ion-img src="../../assets/icon/LocalDulces.jpg" alt="Logo tienda" class="store-logo-img"></ion-img>
      </div>
      <div class="store-header-text">
        <h3 class="store-title">Candy Shop</h3>
        <span class="store-sub">Dulces y chocolates artesanales</span>
      </div>
    </div>

    <!-- Contenedor con imagen de mapa -->
    <div class="map-card">
      <ion-img src="../../assets/icon/MapaLocales.png" alt="Mapa" class="map-img"></ion-img>
    </div>
  </div>
</ion-content>
